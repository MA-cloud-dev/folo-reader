# Folo æç®€é˜…è¯»å™¨ - æŠ€æœ¯è§„èŒƒ

## æŠ€æœ¯æ ˆ

| å±‚é¢ | æŠ€æœ¯é€‰å‹ |
|------|----------|
| æ¡†æ¶ | React 18 + TypeScript |
| æ„å»º | Vite |
| æ ·å¼ | TailwindCSS |
| çŠ¶æ€ | Zustand |
| å­˜å‚¨ | IndexedDB (Dexie.js) |
| AI | SiliconFlow APIï¼ˆç”¨æˆ·å¯é…ç½®ï¼‰ |
| å›¾æ ‡ | lucide-react |
| å·¥å…· | clsxï¼ˆç±»åå·¥å…·ï¼‰ã€date-fnsï¼ˆæ—¶é—´æ ¼å¼åŒ–ï¼‰ |
| Markdown | react-markdown + rehype-raw + remark-gfm |
| é€šçŸ¥ | sonner (Toast) |

---

## æ ¸å¿ƒé—®é¢˜è§£ç­”

### é—®é¢˜ä¸€ï¼šä¿¡æ¯ç­›é€‰å¦‚ä½•è¿›è¡Œï¼Ÿ

> **æ ¸å¿ƒç†å¿µ**ï¼šAI æç‚¼ä¼˜å…ˆï¼ŒæŒ‰éœ€æŸ¥çœ‹åŸæ–‡

#### 1. é˜…è¯»æµç¨‹è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    åˆ·æ–°è®¢é˜…æº                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è·å– RSS â†’ æå–å…ƒæ•°æ® â†’ è°ƒç”¨ AI ç”Ÿæˆæ‘˜è¦ â†’ å­˜å‚¨æ‘˜è¦        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              å±•ç¤º AI æ‘˜è¦å¡ç‰‡æµï¼ˆé»˜è®¤è§†å›¾ï¼‰                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  ğŸ“° æ–‡ç« æ ‡é¢˜                              2å°æ—¶å‰   â”‚   â”‚
â”‚  â”‚  [å±•å¼€åŸæ–‡] [æ”¶è—] [æ ‡è®°å·²è¯»]                      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â–¼ (ç”¨æˆ·ç‚¹å‡»"æŸ¥çœ‹åŸæ–‡"æˆ–"æœ¬åœ°é¢„è§ˆ")
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    æµè§ˆå™¨æ‰“å¼€åŸæ–‡ / å®æ—¶è·å–åŸæ–‡ â†’ æ¸…æ´—HTML â†’ æ¸²æŸ“å†…å®¹       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 2. å­˜å‚¨ç­–ç•¥

| å†…å®¹ | å­˜å‚¨ | æœ‰æ•ˆæœŸ | è¯´æ˜ |
|------|------|--------|------|
| è®¢é˜…æºä¿¡æ¯ | âœ… IndexedDB | æ°¸ä¹… | URLã€åç§°ã€åˆ†ç±»ã€AIç­›é€‰è§„åˆ™ |
| æ–‡ç« å…ƒæ•°æ® | âœ… IndexedDB | 24å°æ—¶ | æ ‡é¢˜ã€é“¾æ¥ã€æ—¶é—´ã€é˜…è¯»çŠ¶æ€ï¼ˆè¿‡æœŸè‡ªåŠ¨æ¸…ç†ï¼‰ |
| AI æ‘˜è¦ | âœ… IndexedDB | éšæ–‡ç«  | ç¼“å­˜åœ¨æ–‡ç« è®°å½•ä¸­ï¼Œéšæ–‡ç« è¿‡æœŸ |
| æ–‡ç« åŸæ–‡ | âŒ ä¸å­˜å‚¨ | â€” | ç‚¹å‡»æ—¶å®æ—¶è·å– |
| æ”¶è—æ–‡ç«  | âœ… IndexedDB | æ°¸ä¹… | å«åŸæ–‡ï¼Œç”¨æˆ·ä¸»åŠ¨æ”¶è—æ‰ä¿å­˜ |
| AI å¯¹è¯ä¼šè¯ | âœ… IndexedDB | 24å°æ—¶ | è‡ªåŠ¨è¿‡æœŸæ¸…ç†ï¼Œå¯æ”¶è—æ°¸ä¹…ä¿å­˜ |
| æ”¶è—çš„å¯¹è¯ | âœ… IndexedDB | æ°¸ä¹… | ç”¨æˆ·ä¸»åŠ¨æ”¶è—çš„å¯¹è¯ |
| ç¬”è®° | âœ… IndexedDB | æ°¸ä¹… | ç”¨æˆ·åˆ›å»ºçš„ Markdown ç¬”è®° |
| AI é…ç½® | âœ… localStorage | æ°¸ä¹… | API Keyã€Base URL |
| å¸ƒå±€çŠ¶æ€ | âœ… localStorage | æ°¸ä¹… | é¢æ¿å®½åº¦ã€å±•å¼€çŠ¶æ€ |
| ä¸»é¢˜è®¾ç½® | âœ… localStorage | æ°¸ä¹… | light/dark/system |

#### 3. æ•°æ®æ¸…ç†æœºåˆ¶

```typescript
// åº”ç”¨å¯åŠ¨æ—¶æ¸…ç†è¿‡æœŸæ•°æ®ï¼Œå¹¶è®¾ç½®å®šæ—¶æ¸…ç†ï¼ˆæ¯å°æ—¶ï¼‰
useEffect(() => {
    dbHelpers.cleanupExpiredData()
    const interval = setInterval(() => {
        dbHelpers.cleanupExpiredData()
    }, 60 * 60 * 1000) // 1å°æ—¶
    return () => clearInterval(interval)
}, [])
```

æ¸…ç†è§„åˆ™ï¼š
- è¿‡æœŸæ–‡ç« å…ƒæ•°æ®ï¼ˆ24å°æ—¶åï¼‰â€” ä¿ç•™æ”¶è—çš„ä¸æ¸…ç†
- è¿‡æœŸAIå¯¹è¯ä¼šè¯ï¼ˆ24å°æ—¶åï¼‰

#### 4. RSS è·å–

```typescript
// ä½¿ç”¨åŸç”Ÿ DOMParser è§£æ RSSï¼ˆé¿å… Node.js ä¾èµ–ï¼‰
const CORS_PROXIES = [
    'https://api.codetabs.com/v1/proxy?quest=', // å®æµ‹æœ€ç¨³å®š
    'https://api.allorigins.win/raw?url=',
    'https://corsproxy.io/?',
]

async function fetchWithProxy(url: string): Promise<string> {
    // 1. é¦–å…ˆå°è¯•ç›´æ¥è®¿é—®
    // 2. å¤±è´¥åˆ™ä½¿ç”¨ CORS ä»£ç†ï¼ˆæ™ºèƒ½æ’åºï¼Œè®°ä½ä¸Šæ¬¡æˆåŠŸçš„ä»£ç†ï¼‰
    // 3. è·³è¿‡è¿ç»­å¤±è´¥è¶…è¿‡ 3 æ¬¡çš„ä»£ç†
    // 4. æ¯ä¸ªä»£ç† 3 ç§’è¶…æ—¶
    // 5. éªŒè¯å“åº”å†…å®¹ä¸ºæœ‰æ•ˆ XML
}

// æ”¯æŒ rsshub:// è‡ªå®šä¹‰åè®®
function normalizeUrl(url: string): string {
    if (url.startsWith('rsshub://')) {
        return url.replace('rsshub://', 'https://rsshub.app/')
    }
    return url
}
```

#### 5. AI ç­›é€‰åŠŸèƒ½

è®¢é˜…æºæ”¯æŒåŸºäºè‡ªç„¶è¯­è¨€çš„æ™ºèƒ½ç­›é€‰ï¼š

```typescript
interface Feed {
  id: string
  title: string
  url: string
  category?: string
  aiFilter?: string  // AI ç­›é€‰è§„åˆ™ï¼ˆè‡ªç„¶è¯­è¨€æè¿°ï¼‰
}

// æ‰¹é‡ç­›é€‰æ–‡ç« ï¼ˆä¸€æ¬¡ API è°ƒç”¨å¤„ç†å¤šç¯‡æ–‡ç« ï¼‰
async function filterArticlesBatch(
  articles: Array<{ id: string; title: string }>,
  filterRule: string
): Promise<Set<string>> {
  // AI è¿”å›ç¬¦åˆæ¡ä»¶çš„æ–‡ç« ç¼–å·
  // è¿”å›ä¿ç•™çš„æ–‡ç«  ID é›†åˆ
}
```

---

### é—®é¢˜äºŒï¼šå›½äº§ AI (SiliconFlow) å¦‚ä½•è°ƒç”¨ï¼Ÿ

> **æ ¸å¿ƒä¼˜åŠ¿**ï¼šSiliconFlow å®Œå…¨å…¼å®¹ OpenAI API æ ¼å¼ï¼Œç”¨æˆ·å¯è‡ªå®šä¹‰é…ç½®

#### 1. ç”¨æˆ·è‡ªå®šä¹‰é…ç½®

ç”¨æˆ·å¯åœ¨åº”ç”¨å†…é…ç½® AI æœåŠ¡ï¼š

- **é…ç½®ç•Œé¢**ï¼šåº”ç”¨å†…æä¾› AI è®¾ç½®å¼¹çª—ï¼ˆAISettings ç»„ä»¶ï¼‰
- **é…ç½®é¡¹**ï¼šAPI Base URLã€API Key
- **å­˜å‚¨**ï¼šé…ç½®ä¿å­˜åˆ° localStorage
- **ä¼˜å…ˆçº§**ï¼šç”¨æˆ·è®¾ç½® > ç¯å¢ƒå˜é‡ > é»˜è®¤å€¼

```typescript
const AI_CONFIG_KEY = 'folo_ai_config'

interface AIConfigData {
  baseUrl: string
  apiKey: string
}

function getAIConfig(): AIConfigData {
  // 1. ä» localStorage è¯»å–ç”¨æˆ·è®¾ç½®
  // 2. å›é€€åˆ°ç¯å¢ƒå˜é‡
  // 3. ä½¿ç”¨é»˜è®¤å€¼
}
```

#### 2. API Key æé†’æœºåˆ¶

å½“ç”¨æˆ·å°è¯•ä½¿ç”¨ AI åŠŸèƒ½ä½†æœªé…ç½® API Key æ—¶ï¼š
- å¼¹å‡º Toast é”™è¯¯æé†’
- æä¾›"å»é…ç½®"å¿«æ·æŒ‰é’®ï¼Œç‚¹å‡»ç›´æ¥æ‰“å¼€ AI è®¾ç½®å¼¹çª—
- é€šè¿‡å…¨å±€ UIStore ç®¡ç†è®¾ç½®å¼¹çª—çš„å¼€å…³çŠ¶æ€

#### 3. è°ƒç”¨æ–¹å¼

```typescript
import OpenAI from 'openai'

// å•ä¾‹ç¼“å­˜ï¼Œé…ç½®å˜æ›´æ—¶è‡ªåŠ¨é‡å»º
let cachedClient: OpenAI | null = null
let cachedConfigHash = ''

function getAIClient() {
    const config = getAIConfig()
    const configHash = `${config.baseUrl}|${config.apiKey}`
    if (cachedClient && configHash === cachedConfigHash) {
        return cachedClient
    }
    cachedClient = new OpenAI({
        baseURL: config.baseUrl,
        apiKey: config.apiKey,
        dangerouslyAllowBrowser: true,
    })
    cachedConfigHash = configHash
    return cachedClient
}
```

#### 4. å¯ç”¨æ¨¡å‹åˆ—è¡¨

åº”ç”¨æ”¯æŒå¤šä¸ª AI æ¨¡å‹ï¼Œåˆ†ä¸ºå¿«é€Ÿæ¨¡å‹å’Œæ€è€ƒæ¨¡å‹ä¸¤ç±»ï¼š

```typescript
export const AI_MODELS = {
    fast: [
        { id: 'Pro/deepseek-ai/DeepSeek-V3.2', name: 'DeepSeek V3.2' },
        { id: 'Qwen/Qwen3-VL-32B-Instruct', name: 'Qwen 3 VL' }
    ],
    thinking: [
        { id: 'Qwen/Qwen3-VL-32B-Thinking', name: 'Qwen 3 Thinking' },
        { id: 'Pro/deepseek-ai/DeepSeek-R1', name: 'DeepSeek R1' }
    ]
}

export const DEFAULT_MODEL = 'Pro/deepseek-ai/DeepSeek-V3.2'
```

#### 5. å†…å®¹æå–ç­–ç•¥

AI æ‘˜è¦ç”Ÿæˆé‡‡ç”¨åˆ†çº§å†…å®¹æå–ç­–ç•¥ï¼š

```typescript
// ä¼˜å…ˆçº§ï¼šRSSè‡ªå¸¦å†…å®¹ > å­æ ‡é¢˜æå– > å…¨æ–‡å‰Nå­—
async function extractContentForSummary(
    rssDescription: string | undefined,
    articleUrl: string,
    fetchFullContent: Function
): Promise<ContentExtractionResult> {
    // ç­–ç•¥1: RSS è‡ªå¸¦å†…å®¹ >= 300å­— â†’ ç›´æ¥ä½¿ç”¨
    // ç­–ç•¥2: æŠ“å–å…¨æ–‡ï¼Œæå– h1-h3 æ ‡é¢˜åŠæ®µè½ â†’ ç»“æ„åŒ–æ‘˜è¦
    // ç­–ç•¥3: å…¨æ–‡å‰ 6000 å­— â†’ é™çº§æ–¹æ¡ˆ
}
```

#### 6. è´¹ç”¨è€ƒé‡

- SiliconFlow æä¾›å…è´¹é¢åº¦
- è½»é‡ä½¿ç”¨åœºæ™¯æˆæœ¬æä½
- æœ¬åœ°ç¼“å­˜å·²ç”Ÿæˆçš„æ‘˜è¦é¿å…é‡å¤è°ƒç”¨

---

### é—®é¢˜ä¸‰ï¼šäº”æ å¸ƒå±€å¦‚ä½•å®ç°ï¼Ÿ

> **æ ¸å¿ƒç†å¿µ**ï¼šçµæ´»å¯è°ƒæ•´çš„äº”æ å¸ƒå±€ï¼Œæä¾›æ²‰æµ¸å¼é˜…è¯»ä½“éªŒ

#### 1. å¸ƒå±€è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è®¢é˜…æº   â”‚ æ–‡ç« åˆ—è¡¨     â”‚ é˜…è¯»è¯¦æƒ…        â”‚ AIå¯¹è¯     â”‚ ç¬”è®°é¢æ¿   â”‚
â”‚ Sidebar  â”‚ FeedList    â”‚ ArticleView    â”‚ AIChat     â”‚ NotePanel  â”‚
â”‚ (å¯è°ƒ)   â”‚ (å¯è°ƒ)       â”‚ (è‡ªé€‚åº”)        â”‚ (å¯è°ƒ)     â”‚ (å¯è°ƒ)     â”‚
â”‚ 180-360pxâ”‚ 280-480px   â”‚ flex-1         â”‚ 300-500px  â”‚ 320-600px  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å¸ƒå±€ç‰¹ç‚¹**ï¼š
- æ¯ä¸ªé¢æ¿å¯ç‹¬ç«‹å±•å¼€/æ”¶ç¼©
- æ”¯æŒæ‹–æ‹½è°ƒæ•´å®½åº¦ï¼ˆé™¤é˜…è¯»è¯¦æƒ…åŒºï¼‰
- å¸ƒå±€çŠ¶æ€æŒä¹…åŒ–åˆ° localStorage
- æ”¶ç¼©åæ˜¾ç¤ºä¸º 48px å®½çš„å›¾æ ‡æ 
- AI å¯¹è¯é¢æ¿é»˜è®¤æ”¶ç¼©ï¼Œå³ä¸‹è§’æ‚¬æµ®æŒ‰é’®å‘¼å‡º
- ç¬”è®°é¢æ¿æŠ˜å æ—¶æ˜¾ç¤ºç«–æ’"ç¬”è®°"æ–‡å­—

#### 2. å¸ƒå±€çŠ¶æ€ç®¡ç†

```typescript
const STORAGE_KEY = 'folo-panel-layout'

const DEFAULT_LAYOUT = {
    sidebar: { expanded: true, width: 240 },
    feedList: { expanded: true, width: 380 },
    aiChat: { expanded: false, width: 360 },
    notePanel: { expanded: false, width: 400 },
}

// ä» localStorage æ¢å¤æˆ–ä½¿ç”¨é»˜è®¤å€¼ï¼ˆåˆå¹¶ä¿å­˜çš„å¸ƒå±€å’Œé»˜è®¤å¸ƒå±€ï¼Œç¡®ä¿æ–°å¢å±æ€§ä¸ä¸¢å¤±ï¼‰
const [layout, setLayout] = useState(() => {
    const saved = localStorage.getItem(STORAGE_KEY)
    return saved ? { ...DEFAULT_LAYOUT, ...JSON.parse(saved) } : DEFAULT_LAYOUT
})
```

#### 3. å†…å®¹åŒºåŸŸæ¡ä»¶æ¸²æŸ“

```
activeView === 'feed'       â†’ FeedListï¼ˆæ–‡ç« å¡ç‰‡æµï¼‰
activeView === 'collection' â†’ CollectionViewï¼ˆæ”¶è—è§†å›¾ï¼‰
```

é˜…è¯»åŒºåŸŸå§‹ç»ˆæ˜¾ç¤ºé€‰ä¸­çš„æ–‡ç« è¯¦æƒ…ï¼ŒAI å¯¹è¯å’Œç¬”è®°é¢æ¿å¯ç‹¬ç«‹å¼€å…³ã€‚

---

## AI åŠŸèƒ½è¯¦è§£

### 1. æ™ºèƒ½æ‘˜è¦

**æ ¸å¿ƒåŠŸèƒ½**ï¼š
- ç”¨æˆ·æ‰‹åŠ¨ç‚¹å‡»ç”Ÿæˆæ‘˜è¦ï¼ˆæˆ–å¯åç»­å®ç°è‡ªåŠ¨ç”Ÿæˆï¼‰
- æ‘˜è¦é•¿åº¦æ§åˆ¶åœ¨ 150 å­—ä»¥å†…ï¼ŒHTML æ ¼å¼è¾“å‡º
- ç¼“å­˜åˆ° IndexedDB é¿å…é‡å¤è°ƒç”¨
- æœªé…ç½® API Key æ—¶æç¤ºç”¨æˆ·å»é…ç½®

**æ‘˜è¦ç”Ÿæˆçš„å†…å®¹æå–**ï¼š
- ä¼˜å…ˆä½¿ç”¨ RSS è‡ªå¸¦çš„ description/content å­—æ®µï¼ˆâ‰¥300å­—ï¼‰
- ä¸è¶³æ—¶æŠ“å–å…¨æ–‡ï¼Œæå– h1-h3 æ ‡é¢˜åŠæ®µè½
- æœ€åé™çº§åˆ°å…¨æ–‡å‰ 6000 å­—

**å…³é”®å¸¸é‡**ï¼š
```typescript
export const AI_CONSTANTS = {
    MAX_CONTENT_LENGTH: 6000,       // ä¼ é€’ç»™ AI çš„æœ€å¤§å†…å®¹é•¿åº¦
    SUMMARY_MAX_TOKENS: 300,        // æ‘˜è¦ç”Ÿæˆçš„æœ€å¤§ token æ•°
    MIN_RSS_CONTENT_LENGTH: 300,    // RSS å†…å®¹æœ€å°æœ‰æ•ˆé•¿åº¦
}
```

### 2. AI å¯¹è¯

**æ ¸å¿ƒåŠŸèƒ½**ï¼š
- åŸºäºå½“å‰é˜…è¯»çš„æ–‡ç« å†…å®¹è¿›è¡Œå¤šè½®å¯¹è¯
- **å¢å¼ºäº¤äº’**ï¼š
  - æ”¯æŒ**ç¼–è¾‘**ç”¨æˆ·æé—®å¹¶é‡æ–°ç”Ÿæˆ
  - æ”¯æŒ**æ’¤é”€**ä¸Šä¸€è½®å¯¹è¯
  - æ”¯æŒ**åˆ é™¤**å•æ¡æ¶ˆæ¯
  - æ”¯æŒ**åœæ­¢**ç”Ÿæˆï¼ˆAbortControllerï¼‰
  - æ”¯æŒ**é‡è¯•**å¤±è´¥çš„å›å¤
- **ä¼šè¯ç®¡ç†**ï¼š
  - ä¼šè¯è‡ªåŠ¨ä¿å­˜åˆ° IndexedDBï¼ˆ24å°æ—¶è¿‡æœŸï¼‰
  - æ”¯æŒ**æ”¶è—**ä¼šè¯ï¼ˆæ°¸ä¹…ä¿å­˜åˆ° starredChatSessionsï¼‰
  - æ˜¾ç¤ºå½“å‰ä¸Šä¸‹æ–‡ï¼ˆæ–‡ç« æ ‡é¢˜åŠå­—æ•°ï¼‰
- æ”¯æŒæµå¼å“åº”ï¼ˆé€å­—æ˜¾ç¤ºï¼‰
- å¯¹è¯å†å²ç®¡ç†
- å¯è‡ªç”±åˆ‡æ¢ AI æ¨¡å‹ï¼ˆfast/thinking åˆ†ç±»ï¼‰

**@å¼•ç”¨ç³»ç»Ÿ**ï¼š
- åœ¨å¯¹è¯è¾“å…¥ä¸­æ”¯æŒ `@` å¼•ç”¨ç¬”è®°å’Œæ–‡ç« 
- å¼•ç”¨æ ¼å¼ï¼š`@[æ ‡é¢˜](type:id)`
- æ”¯æŒæœç´¢å’Œé€‰æ‹©å¼•ç”¨ç›®æ ‡
- å¼•ç”¨å†…å®¹è‡ªåŠ¨æ³¨å…¥åˆ°å¯¹è¯ä¸Šä¸‹æ–‡ä¸­

**UI ç»“æ„**ï¼ˆAIChat æ‹†åˆ†ä¸ºå­ç»„ä»¶ï¼‰ï¼š
```
AIChat/
â”œâ”€â”€ index.tsx           # ä¸»ç»„ä»¶ï¼ˆçŠ¶æ€ç®¡ç†ã€æ¶ˆæ¯æµæ§åˆ¶ï¼‰
â”œâ”€â”€ ChatNavbar.tsx       # é¡¶éƒ¨å¯¼èˆªæ ï¼ˆæ”¶è—ã€æ¸…ç©ºã€å…³é—­ï¼‰
â”œâ”€â”€ MessageList.tsx      # æ¶ˆæ¯åˆ—è¡¨ï¼ˆå«ç¼–è¾‘ã€é‡è¯•ç­‰äº¤äº’ï¼‰
â”œâ”€â”€ InputArea.tsx        # è¾“å…¥åŒºåŸŸï¼ˆå« @ å¼•ç”¨é€‰æ‹©å™¨ã€æ¨¡å‹é€‰æ‹©ï¼‰
â”œâ”€â”€ MentionSelector.tsx  # @ å¼•ç”¨é€‰æ‹©å™¨ï¼ˆæœç´¢å¹¶é€‰æ‹©ç¬”è®°/æ–‡ç« ï¼‰
â””â”€â”€ types.ts             # AI å¯¹è¯ç±»å‹å®šä¹‰
```

### 3. AI ç­›é€‰

**æ ¸å¿ƒåŠŸèƒ½**ï¼š
- åŸºäºè‡ªç„¶è¯­è¨€è§„åˆ™ç­›é€‰æ–‡ç« 
- è®¢é˜…æºçº§åˆ«é…ç½®ç­›é€‰è§„åˆ™
- æ‰¹é‡ç­›é€‰ä¼˜åŒ–æ€§èƒ½
- ç«æ€å¤„ç†ï¼šç”¨æˆ·åˆ‡æ¢è®¢é˜…æºæ—¶ä¸¢å¼ƒè¿‡æœŸç»“æœ

### 4. ç¿»è¯‘åŠŸèƒ½

```typescript
async function translateText(
    content: string,
    targetLang: string = 'ä¸­æ–‡',
    model: string = DEFAULT_MODEL
): Promise<string>
```

---

## æ”¶è—ç³»ç»Ÿ

### ç»Ÿä¸€æ”¶è—è§†å›¾ï¼ˆCollectionViewï¼‰

æ”¯æŒä¸¤ç§æ”¶è—ç±»å‹ï¼š

| ç±»å‹ | è¯´æ˜ | æ°¸ä¹…ä¿å­˜å†…å®¹ |
|------|------|-------------|
| æ–‡ç« æ”¶è— | ç”¨æˆ·ä¸»åŠ¨æ”¶è—çš„æ–‡ç«  | åŸæ–‡å†…å®¹ã€AIæ‘˜è¦ |
| å¯¹è¯æ”¶è— | ç”¨æˆ·ä¸»åŠ¨æ”¶è—çš„AIå¯¹è¯ | å®Œæ•´å¯¹è¯å†å²ã€å…³è”æ–‡ç« æ ‡é¢˜ |

**ç»Ÿä¸€è§†å›¾**ï¼š
- æŒ‰æ”¶è—æ—¶é—´å€’åºæ’åˆ—
- æ”¯æŒæŒ‰ç±»å‹ç­›é€‰ï¼ˆå…¨éƒ¨/æ–‡ç« /å¯¹è¯ï¼‰
- æ”¯æŒæœç´¢
- ä¸€é”®å–æ¶ˆæ”¶è—

---

## ç¬”è®°ç³»ç»Ÿ

### æ ¸å¿ƒåŠŸèƒ½

- **åˆ›å»ºå’Œç¼–è¾‘** Markdown æ ¼å¼ç¬”è®°
- **æ ‡ç­¾ç®¡ç†**ï¼šä¸ºç¬”è®°æ·»åŠ æ ‡ç­¾ï¼Œæ”¯æŒæŒ‰æ ‡ç­¾ç­›é€‰
- **å¼•ç”¨è¿½æº¯**ï¼šç¬”è®°å¯å…³è”æ–‡ç« å’Œå¯¹è¯å¼•ç”¨ï¼ˆNoteReferenceï¼‰
- **æœç´¢**ï¼šé¢æ¿å†…æœç´¢ç¬”è®°
- **å¯¼å‡º**ï¼šå¯¼å‡ºä¸º Markdown æ–‡ä»¶
- **åˆ é™¤**ï¼šå«ç¡®è®¤å¯¹è¯æ¡†

### ç¬”è®°æ•°æ®ç»“æ„

```typescript
interface NoteReference {
    type: 'article' | 'chat'
    id: string              // articleId æˆ– sessionId
    title: string           // å¿«ç…§æ ‡é¢˜
    snippet: string         // å¼•ç”¨çš„å†…å®¹ç‰‡æ®µ
    url?: string            // æ–‡ç« URL
    addedAt: number
}

interface Note {
    id: string
    title: string
    content: string         // Markdownæ ¼å¼
    createdAt: number
    updatedAt: number
    tags?: string[]
    references?: NoteReference[]
}
```

### ç¬”è®°é¢æ¿ï¼ˆNotePanelï¼‰

- é›†æˆç¬”è®°åˆ—è¡¨å’Œç¼–è¾‘å™¨
- å±•å¼€æ—¶å æ®æœ€å³ä¾§é¢æ¿
- æŠ˜å æ—¶æ˜¾ç¤ºç«–æ’"ç¬”è®°"æ–‡å­—å’Œå±•å¼€æŒ‰é’®
- ç¬”è®°å¡ç‰‡æ”¯æŒå¯¼å‡ºå’Œåˆ é™¤æ“ä½œ

---

## å…¨å±€æœç´¢

### å¿«æ·é”®ï¼š`Ctrl/Cmd + K`

**æœç´¢èŒƒå›´**ï¼š
- æ–‡ç« æ ‡é¢˜å’ŒAIæ‘˜è¦ï¼ˆæœ€è¿‘500ç¯‡ï¼‰
- ç¬”è®°æ ‡é¢˜å’Œå†…å®¹

**æœç´¢ç»“æœ**ï¼š
- æŒ‰ç›¸å…³åº¦æ’åºï¼ˆæ ‡é¢˜åŒ¹é…æƒé‡ > å†…å®¹åŒ¹é…æƒé‡ï¼‰
- æ”¯æŒç‚¹å‡»è·³è½¬åˆ°å¯¹åº”æ–‡ç« æˆ–ç¬”è®°
- æ¨¡æ€æ¡†å½¢å¼å±•ç¤º

### é”®ç›˜å¿«æ·é”®

| å¿«æ·é”® | åŠŸèƒ½ |
|--------|------|
| `Ctrl/Cmd + K` | æ‰“å¼€/å…³é—­å…¨å±€æœç´¢ |
| `J` | ä¸‹ä¸€ç¯‡æ–‡ç«  |
| `K` | ä¸Šä¸€ç¯‡æ–‡ç«  |
| `Escape` | å…³é—­æœç´¢ |

---

## æ•°æ®ç®¡ç†ï¼ˆOPML å¯¼å…¥å¯¼å‡ºï¼‰

### åŠŸèƒ½

- **OPML å¯¼å…¥**ï¼šä»å…¶ä»– RSS é˜…è¯»å™¨å¯¼å…¥è®¢é˜…æº
  - æ”¯æŒåˆ†ç±»ç›®å½•è§£æ
  - è‡ªåŠ¨å»é‡
- **OPML å¯¼å‡º**ï¼šå¯¼å‡ºæ‰€æœ‰è®¢é˜…æºä¸ºæ ‡å‡† OPML æ–‡ä»¶
  - ä¿ç•™åˆ†ç±»ä¿¡æ¯
  - å…¼å®¹ä¸»æµé˜…è¯»å™¨

### æ•°æ®ç®¡ç†å¼¹çª—ï¼ˆDataManagementModalï¼‰

- å¯¼å…¥/å¯¼å‡º OPML æ–‡ä»¶
- ä¾§è¾¹æ åº•éƒ¨"æ•°æ®ç®¡ç†"æŒ‰é’®è§¦å‘

---

## é¢„è®¾è®¢é˜…æº

åº”ç”¨å†…ç½®ä¸°å¯Œçš„é¢„è®¾è®¢é˜…æºï¼ˆ`config/presetFeeds.ts`ï¼‰ï¼Œæ¶µç›– 8 å¤§åˆ†ç±»ï¼š

### åˆ†ç±»ä½“ç³»

| åˆ†ç±» | è®¢é˜…æºæ•°é‡ | ç¤ºä¾‹ |
|------|-----------|------|
| ğŸ¤– AI å‰æ²¿ | 5 | Hacker Newsã€MIT ç§‘æŠ€è¯„è®ºã€DeepMind Blogã€AI Weeklyã€AIGC Weekly |
| ğŸ“± ç§‘æŠ€èµ„è®¯ | 5 | å°‘æ•°æ´¾ã€é˜®ä¸€å³°çš„ç½‘ç»œæ—¥å¿—ã€Solidotã€æ˜é‡‘å‰ç«¯ã€V2EX |
| âš½ è¶³çƒèµ„è®¯ | 2 | æ‡‚çƒå¸ã€è™æ‰‘è¶³çƒ |
| ğŸ’° è´¢ç»ç»æµ | 2 | è´¢æ–°ç½‘ã€ç¬¬ä¸€è´¢ç» |
| ğŸ§  å¿ƒç†å­¦ | 2 | å£¹å¿ƒç†ã€å¿ƒç†å­¦ç©ºé—´ |
| ğŸ“š ä¹¦ç±æ¨è | 2 | è±†ç“£è¯»ä¹¦ã€ç†æƒ³å›½å›¾ä¹¦ |
| ğŸ”“ å¼€æºé¡¹ç›® | 2 | GitHub Trendingã€HelloGitHub |
| ğŸ“° ç»¼åˆæ–°é—» | 2 | çŸ¥ä¹çƒ­æ¦œã€36æ°ªå¿«è®¯ |

### ä¸€é”®åŠ è½½æœºåˆ¶

- ç”¨æˆ·æ‰‹åŠ¨è§¦å‘åŠ è½½ï¼ˆéè‡ªåŠ¨ï¼‰
- ç¡®è®¤æç¤ºåæ‰¹é‡æ·»åŠ 
- å·²å­˜åœ¨çš„è®¢é˜…æºè‡ªåŠ¨è·³è¿‡
- åŠ è½½å¤±è´¥çš„æºä¹Ÿä¼šæ·»åŠ ï¼ˆåç»­å¯æ‰‹åŠ¨åˆ·æ–°ï¼‰

---

## ç›®å½•ç»“æ„

```
folo-rebuild/
â”œâ”€â”€ doc/                         # æ–‡æ¡£
â”‚   â”œâ”€â”€ requirement.md          # éœ€æ±‚æ–‡æ¡£
â”‚   â””â”€â”€ spec.md                 # æŠ€æœ¯è§„èŒƒï¼ˆæœ¬æ–‡æ¡£ï¼‰
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main.tsx                # å…¥å£
â”‚   â”œâ”€â”€ App.tsx                 # ä¸»ç»„ä»¶ï¼ˆäº”æ å¸ƒå±€ï¼‰
â”‚   â”œâ”€â”€ index.css               # å…¨å±€æ ·å¼
â”‚   â”œâ”€â”€ vite-env.d.ts
â”‚   â”œâ”€â”€ components/             # UI ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Sidebar.tsx              # ä¾§è¾¹æ ï¼ˆè®¢é˜…æºåˆ—è¡¨ã€åˆ†ç±»ç®¡ç†ã€è§†å›¾åˆ‡æ¢ï¼‰
â”‚   â”‚   â”œâ”€â”€ FeedList.tsx             # æ–‡ç« åˆ—è¡¨ï¼ˆAI æ‘˜è¦å¡ç‰‡æµï¼‰
â”‚   â”‚   â”œâ”€â”€ ArticleView.tsx          # æ–‡ç« è¯¦æƒ…ï¼ˆé˜…è¯»è§†å›¾ã€AIæ‘˜è¦å¡ç‰‡ï¼‰
â”‚   â”‚   â”œâ”€â”€ CollectionView.tsx       # æ”¶è—ç»Ÿä¸€è§†å›¾ï¼ˆæ–‡ç« +å¯¹è¯ï¼‰
â”‚   â”‚   â”œâ”€â”€ NotePanel.tsx            # ç¬”è®°é¢æ¿ï¼ˆé›†æˆåˆ—è¡¨å’Œç¼–è¾‘å™¨å…¥å£ï¼‰
â”‚   â”‚   â”œâ”€â”€ NoteEditor.tsx           # ç¬”è®°ç¼–è¾‘å™¨
â”‚   â”‚   â”œâ”€â”€ NoteList.tsx             # ç¬”è®°åˆ—è¡¨
â”‚   â”‚   â”œâ”€â”€ AISettings.tsx           # AI è®¾ç½®å¼¹çª—
â”‚   â”‚   â”œâ”€â”€ AddFeedModal.tsx         # æ·»åŠ è®¢é˜…æºå¼¹çª—
â”‚   â”‚   â”œâ”€â”€ DataManagementModal.tsx  # æ•°æ®ç®¡ç†å¼¹çª—ï¼ˆOPML å¯¼å…¥å¯¼å‡ºï¼‰
â”‚   â”‚   â”œâ”€â”€ SearchModal.tsx          # å…¨å±€æœç´¢å¼¹çª—
â”‚   â”‚   â”œâ”€â”€ ResizablePanel.tsx       # å¯è°ƒæ•´å¤§å°çš„é¢æ¿
â”‚   â”‚   â”œâ”€â”€ ErrorBoundary.tsx        # é”™è¯¯è¾¹ç•Œç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ MarkdownPreview.tsx      # Markdown æ¸²æŸ“é¢„è§ˆ
â”‚   â”‚   â”œâ”€â”€ ArticleMentionSelector.tsx  # æ–‡ç« /ç¬”è®°å¼•ç”¨é€‰æ‹©å™¨
â”‚   â”‚   â””â”€â”€ AIChat/                  # AI å¯¹è¯æ¨¡å—ï¼ˆæ‹†åˆ†å­ç»„ä»¶ï¼‰
â”‚   â”‚       â”œâ”€â”€ index.tsx            # ä¸»ç»„ä»¶
â”‚   â”‚       â”œâ”€â”€ ChatNavbar.tsx       # å¯¼èˆªæ 
â”‚   â”‚       â”œâ”€â”€ MessageList.tsx      # æ¶ˆæ¯åˆ—è¡¨
â”‚   â”‚       â”œâ”€â”€ InputArea.tsx        # è¾“å…¥åŒºåŸŸ
â”‚   â”‚       â”œâ”€â”€ MentionSelector.tsx  # @ å¼•ç”¨é€‰æ‹©å™¨
â”‚   â”‚       â””â”€â”€ types.ts            # ç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â””â”€â”€ presetFeeds.ts     # é¢„è®¾è®¢é˜…æºé…ç½®
â”‚   â”œâ”€â”€ db/
â”‚   â”‚   â””â”€â”€ index.ts           # IndexedDB æ•°æ®åº“ï¼ˆDexie.js v6ï¼‰
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ ai.ts              # AI æœåŠ¡ï¼ˆæ‘˜è¦/å¯¹è¯/ç­›é€‰/ç¿»è¯‘ï¼‰
â”‚   â”‚   â”œâ”€â”€ rss.ts             # RSS è§£ææœåŠ¡ï¼ˆåŸç”Ÿ DOMParserï¼‰
â”‚   â”‚   â”œâ”€â”€ articleParser.ts   # æ–‡ç«  HTML æ¸…æ´—ä¸ç»“æ„åŒ–è§£æ
â”‚   â”‚   â”œâ”€â”€ contentExtractor.ts # æ™ºèƒ½å†…å®¹æå–æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ opml.ts            # OPML å¯¼å…¥å¯¼å‡ºæœåŠ¡
â”‚   â”‚   â””â”€â”€ search.ts          # å…¨å±€æœç´¢æœåŠ¡
â”‚   â”œâ”€â”€ stores/
â”‚   â”‚   â”œâ”€â”€ feedStore.ts       # è®¢é˜…æºçŠ¶æ€ç®¡ç†ï¼ˆZustandï¼‰
â”‚   â”‚   â”œâ”€â”€ themeStore.ts      # ä¸»é¢˜çŠ¶æ€ç®¡ç†ï¼ˆlight/dark/systemï¼‰
â”‚   â”‚   â””â”€â”€ uiStore.ts         # UI å…¨å±€çŠ¶æ€ï¼ˆå¼¹çª—å¼€å…³ç­‰ï¼‰
â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â””â”€â”€ index.ts           # TypeScript ç±»å‹å®šä¹‰
â”‚   â””â”€â”€ utils/
â”‚       â”œâ”€â”€ constants.ts       # å…¨å±€å¸¸é‡ï¼ˆAI/è¿‡æœŸæ—¶é—´ï¼‰
â”‚       â””â”€â”€ uuid.ts            # UUID ç”Ÿæˆå·¥å…·
â”œâ”€â”€ .env.example               # ç¯å¢ƒå˜é‡ç¤ºä¾‹
â”œâ”€â”€ package.json
â”œâ”€â”€ tailwind.config.js         # TailwindCSS é…ç½®
â”œâ”€â”€ postcss.config.js          # PostCSS é…ç½®
â”œâ”€â”€ tsconfig.json              # TypeScript é…ç½®
â””â”€â”€ vite.config.ts             # Vite é…ç½®
```

---

## æ•°æ®åº“è®¾è®¡

ä½¿ç”¨ Dexie.jsï¼ˆIndexedDB å°è£…ï¼‰å­˜å‚¨æ•°æ®ï¼Œå½“å‰ Version 6ï¼š

```typescript
class FoloDatabase extends Dexie {
    feeds!: Table<Feed>
    articles!: Table<Article>
    starredArticles!: Table<StarredArticle>
    chatSessions!: Table<ChatSession>
    starredChatSessions!: Table<StarredChatSession>
    notes!: Table<Note>
    settings!: Table<{ key: string; value: unknown }>

    constructor() {
        super('folo-minimal')

        this.version(6).stores({
            feeds: 'id, title, category, &url, createdAt',
            articles: 'id, feedId, pubDate, isRead, isStarred, expiresAt',
            starredArticles: 'id, feedId, starredAt',
            chatSessions: 'id, articleId, expiresAt, createdAt',
            starredChatSessions: 'id, articleId, starredAt',
            notes: 'id, title, createdAt, updatedAt',
            settings: 'key',
        })
    }
}
```

**è¡¨ç»“æ„**ï¼š

| è¡¨å | è¯´æ˜ | ç´¢å¼• | è¿‡æœŸ |
|------|------|------|------|
| `feeds` | è®¢é˜…æº | id, title, category, &urlï¼ˆå”¯ä¸€ï¼‰, createdAt | æ°¸ä¹… |
| `articles` | æ–‡ç« å…ƒæ•°æ® | id, feedId, pubDate, isRead, isStarred, expiresAt | 24å°æ—¶ |
| `starredArticles` | æ”¶è—çš„æ–‡ç« ï¼ˆå«åŸæ–‡ï¼‰ | id, feedId, starredAt | æ°¸ä¹… |
| `chatSessions` | AI å¯¹è¯ä¼šè¯ | id, articleId, expiresAt, createdAt | 24å°æ—¶ |
| `starredChatSessions` | æ”¶è—çš„å¯¹è¯ | id, articleId, starredAt | æ°¸ä¹… |
| `notes` | ç¬”è®° | id, title, createdAt, updatedAt | æ°¸ä¹… |
| `settings` | åº”ç”¨è®¾ç½® | key | æ°¸ä¹… |

---

## çŠ¶æ€ç®¡ç†

### feedStore.tsï¼ˆæ ¸å¿ƒä¸šåŠ¡çŠ¶æ€ï¼‰

```typescript
interface FeedState {
    feeds: Feed[]
    articles: Article[]
    filteredArticles: Article[]        // AI ç­›é€‰åçš„æ–‡ç« 
    selectedFeed: Feed | null
    selectedArticle: Article | null

    isLoading: boolean
    isFetchingFeed: boolean
    isFiltering: boolean               // æ­£åœ¨ AI ç­›é€‰
    generatingSummaryIds: Set<string>   // æ­£åœ¨ç”Ÿæˆæ‘˜è¦çš„æ–‡ç« ID
    error: string | null

    loadFeeds: () => Promise<void>
    initPresetFeeds: () => Promise<{ addedCount: number; skippedCount: number }>
    addFeed: (url, title?, category?, aiFilter?) => Promise<void>
    deleteFeed: (feedId) => Promise<void>
    selectFeed: (feed) => void
    selectArticle: (article) => void
    refreshFeed: (feedId) => Promise<void>
    refreshAllFeeds: () => Promise<void>     // å¹¶å‘ï¼Œæœ€å¤šåŒæ—¶ 4 ä¸ª
    markArticleRead: (articleId) => Promise<void>
    generateArticleSummary: (article) => Promise<string | null>
    starArticle: (articleId, content) => Promise<void>
    unstarArticle: (articleId) => Promise<void>
}
```

### themeStore.tsï¼ˆä¸»é¢˜ç®¡ç†ï¼‰

- æ”¯æŒ `light` / `dark` / `system` ä¸‰ç§æ¨¡å¼
- ç›‘å¬ç³»ç»Ÿä¸»é¢˜å˜åŒ–è‡ªåŠ¨åˆ‡æ¢
- æŒä¹…åŒ–åˆ° localStorage

### uiStore.tsï¼ˆUI å…¨å±€çŠ¶æ€ï¼‰

- `isAISettingsOpen`ï¼šAI è®¾ç½®å¼¹çª—å¼€å…³

---

## UI ç»„ä»¶è¯´æ˜

### 1. App.tsx - ä¸»åº”ç”¨ç»„ä»¶

**èŒè´£**ï¼š
- ç®¡ç†äº”æ å¸ƒå±€åŠé¢æ¿å±•å¼€/æ”¶ç¼©
- å¸ƒå±€çŠ¶æ€æŒä¹…åŒ–
- å®šæœŸæ¸…ç†è¿‡æœŸæ•°æ®
- å…¨å±€å¿«æ·é”®ç›‘å¬
- å…¨å±€æœç´¢å¼¹çª—ç®¡ç†

### 2. Sidebar.tsx - è®¢é˜…æºåˆ—è¡¨

**åŠŸèƒ½**ï¼š
- è®¢é˜…æºåˆ†ç±»å±•ç¤ºï¼ˆå¯æŠ˜å /å±•å¼€ï¼‰
- æ·»åŠ /åˆ é™¤è®¢é˜…æº
- åˆ·æ–°æ‰€æœ‰è®¢é˜…æº
- ä¸€é”®åŠ è½½é¢„è®¾è®¢é˜…æº
- åˆ†ç±»å…¨éƒ¨æŠ˜å /å±•å¼€ï¼ˆChevronsUpDownï¼‰
- AI è®¾ç½®å…¥å£
- æ•°æ®ç®¡ç†å…¥å£ï¼ˆOPMLï¼‰
- è§†å›¾åˆ‡æ¢ï¼ˆè®¢é˜…æº/æ”¶è—/ç¬”è®°ï¼‰
- æš—è‰²æ¨¡å¼åˆ‡æ¢ï¼ˆlight/dark/system å¾ªç¯ï¼‰

### 3. FeedList.tsx - æ–‡ç« åˆ—è¡¨

**åŠŸèƒ½**ï¼š
- æ˜¾ç¤ºå½“å‰è®¢é˜…æºçš„æ–‡ç« åˆ—è¡¨
- æ ‡é¢˜ + æ—¶é—´æˆ³å¡ç‰‡
- å·²è¯»/æ”¶è—çŠ¶æ€æ ‡è¯†
- AI ç­›é€‰ç»“æœæ˜¾ç¤ºï¼ˆç­›é€‰ä¸­/å·²ç­›é€‰ x/y ç¯‡ï¼‰

### 4. ArticleView.tsx - æ–‡ç« è¯¦æƒ…

**åŠŸèƒ½**ï¼š
- AI æ‘˜è¦å¡ç‰‡ï¼ˆå¯æ‰‹åŠ¨ç”Ÿæˆï¼‰
- æ”¶è—/å–æ¶ˆæ”¶è—
- æŸ¥çœ‹åŸæ–‡ï¼ˆæµè§ˆå™¨æ‰“å¼€ï¼‰
- æœ¬åœ°é¢„è§ˆï¼ˆHTML æ¸…æ´—åæ¸²æŸ“ï¼‰
- æ‘˜è¦ HTML å®‰å…¨æ¸…æ´—ï¼ˆç™½åå•æ ‡ç­¾ï¼‰

**æ–‡ç«  HTML æ¸…æ´—**ï¼ˆarticleParser.tsï¼‰ï¼š
- ç™½åå•æ ‡ç­¾ä¿ç•™
- å±é™©æ ‡ç­¾å®Œå…¨ç§»é™¤
- åªä¿ç•™å¿…è¦å±æ€§ï¼ˆsrc/href/alt/titleï¼‰
- é“¾æ¥å¼ºåˆ¶æ–°æ ‡ç­¾é¡µæ‰“å¼€
- æå–ä¸»å†…å®¹åŒºåŸŸï¼ˆarticle/main/[role="main"]ç­‰ï¼‰

### 5. AIChat - AI å¯¹è¯æ¨¡å—

**è¯¦è§ AI åŠŸèƒ½è¯¦è§£ > AI å¯¹è¯**

### 6. CollectionView - æ”¶è—è§†å›¾

**è¯¦è§ æ”¶è—ç³»ç»Ÿ**

### 7. NotePanel - ç¬”è®°é¢æ¿

**è¯¦è§ ç¬”è®°ç³»ç»Ÿ**

### 8. ResizablePanel.tsx - å¯è°ƒæ•´é¢æ¿

**åŠŸèƒ½**ï¼š
- æ‹–æ‹½è°ƒæ•´å®½åº¦
- å®½åº¦é™åˆ¶ï¼ˆmin/maxï¼‰
- æ‹–åŠ¨æ—¶é«˜äº®
- å·¦/å³æ‹–æ‹½æ‰‹æŸ„

### 9. ErrorBoundary.tsx - é”™è¯¯è¾¹ç•Œ

- React Error Boundary åŒ…è£¹å„é¢æ¿
- é”™è¯¯æ—¶æ˜¾ç¤ºå‹å¥½æç¤ºè€Œéç™½å±

---

## ç¯å¢ƒå˜é‡

| å˜é‡å | è¯´æ˜ | æ˜¯å¦å¿…éœ€ |
|--------|------|----------|
| `VITE_SILICONFLOW_API_KEY` | SiliconFlow API Key | å¯é€‰ï¼ˆå¯åœ¨åº”ç”¨å†…é…ç½®ï¼‰ |

**é…ç½®æ–¹å¼**ï¼š

1. **ç¯å¢ƒå˜é‡**ï¼ˆ`.env` æ–‡ä»¶ï¼‰ï¼š
```bash
VITE_SILICONFLOW_API_KEY=your_api_key_here
```

2. **åº”ç”¨å†…é…ç½®**ï¼ˆæ¨èï¼‰ï¼š
   - ç‚¹å‡»ä¾§è¾¹æ åº•éƒ¨çš„ âš™ï¸ AI è®¾ç½®
   - åœ¨ AI è®¾ç½®å¼¹çª—ä¸­å¡«å†™é…ç½®
   - ä¿å­˜åˆ° localStorage

**ä¼˜å…ˆçº§**ï¼šåº”ç”¨å†…é…ç½® > ç¯å¢ƒå˜é‡ > é»˜è®¤å€¼

---

## è·å– API Key

1. è®¿é—® https://siliconflow.cn
2. æ³¨å†Œè´¦å·å¹¶ç™»å½•
3. åœ¨æ§åˆ¶å°åˆ›å»º API Key
4. å¡«å…¥ `.env` æ–‡ä»¶æˆ–åœ¨åº”ç”¨å†… **AI è®¾ç½®** ä¸­é…ç½®

---

## å¼€å‘æŒ‡å—

### å¯åŠ¨é¡¹ç›®

```bash
# å®‰è£…ä¾èµ–
pnpm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
pnpm dev
```

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
pnpm build
```

---

## æŠ€æœ¯äº®ç‚¹

1. **çº¯å‰ç«¯å®ç°**ï¼šæ— éœ€åç«¯æœåŠ¡å™¨ï¼Œæ•°æ®å­˜å‚¨åœ¨æµè§ˆå™¨ IndexedDB
2. **åŸç”Ÿ RSS è§£æ**ï¼šä½¿ç”¨ DOMParser æ›¿ä»£ rss-parserï¼Œé¿å… Node.js ä¾èµ–
3. **æ™ºèƒ½ä»£ç†è½®è¯¢**ï¼šRSS è·å–å¤±è´¥æ—¶è‡ªåŠ¨å°è¯•å¤šä¸ª CORS ä»£ç†ï¼Œè®°ä½æˆåŠŸä»£ç†
4. **AI åŠŸèƒ½ä¸°å¯Œ**ï¼šæ‘˜è¦ã€å¯¹è¯ã€ç­›é€‰ã€ç¿»è¯‘å››å¤§æ ¸å¿ƒèƒ½åŠ›
5. **çµæ´»å¸ƒå±€**ï¼šäº”æ å¯è°ƒæ•´å¸ƒå±€ï¼Œæ²‰æµ¸å¼é˜…è¯»ä½“éªŒ
6. **ç¬”è®°ç³»ç»Ÿ**ï¼šæ”¯æŒ Markdown ç¬”è®°ã€æ ‡ç­¾ç®¡ç†ã€å¼•ç”¨è¿½æº¯
7. **æ”¶è—ç³»ç»Ÿ**ï¼šæ–‡ç«  + å¯¹è¯ç»Ÿä¸€æ”¶è—ï¼Œæ°¸ä¹…ä¿å­˜
8. **å…¨å±€æœç´¢**ï¼šCtrl+K å¿«æ·æœç´¢æ–‡ç« å’Œç¬”è®°
9. **æ•°æ®ç®¡ç†**ï¼šOPML å¯¼å…¥å¯¼å‡ºï¼Œå…¼å®¹ä¸»æµé˜…è¯»å™¨
10. **æš—è‰²æ¨¡å¼**ï¼šæ”¯æŒ light/dark/system ä¸‰ç§ä¸»é¢˜
11. **æ•°æ®æ²»ç†**ï¼šè‡ªåŠ¨æ¸…ç†è¿‡æœŸæ•°æ®ï¼Œæ”¶è—å’Œç¬”è®°æ°¸ä¹…ä¿å­˜
12. **@ å¼•ç”¨ç³»ç»Ÿ**ï¼šAI å¯¹è¯ä¸­å¼•ç”¨ç¬”è®°å’Œæ–‡ç« å†…å®¹
13. **é”™è¯¯è¾¹ç•Œ**ï¼šå„é¢æ¿ç‹¬ç«‹é”™è¯¯è¾¹ç•Œï¼Œé¿å…æ•´ä½“å´©æºƒ

---

## License

MIT
